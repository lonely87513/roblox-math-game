<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Roblox æ•¸å­¸å¤§å†’éšª</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Nunito', sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; overflow-x: hidden; }
        .game-container { background: linear-gradient(180deg, #00d4ff 0%, #0099cc 100%); border-radius: 30px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.4), 0 0 0 8px #ffd700, 0 0 0 16px #ff6b35; max-width: 700px; width: 100%; position: relative; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .header { text-align: center; margin-bottom: 25px; }
        .title { font-family: 'Fredoka One', cursive; font-size: 2.5em; color: #fff; text-shadow: 3px 3px 0 #ff6b35, 6px 6px 0 #ffd700; margin-bottom: 10px; }
        .stats-row { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px; }
        .streak-badge, .timer-display { background: linear-gradient(180deg, #ff6b35, #dd5525); padding: 10px 25px; border-radius: 20px; font-family: 'Fredoka One', cursive; color: #fff; font-size: 1.2em; }
        .timer-display { background: linear-gradient(180deg, #00d4ff, #0099cc); }
        .progress-bar { width: 100%; height: 20px; background: #e0e0e0; border-radius: 10px; margin-bottom: 20px; overflow: hidden; box-shadow: inset 0 2px 5px rgba(0,0,0,0.2); }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #00ff88, #00d4ff); border-radius: 10px; transition: width 0.3s ease; }
        .level-info { text-align: center; margin-bottom: 15px; font-family: 'Fredoka One', cursive; color: #fff; font-size: 1.2em; }
        .score-board { display: flex; gap: 30px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px; }
        .score-item { background: linear-gradient(180deg, #ffd700, #ffaa00); padding: 15px 30px; border-radius: 20px; box-shadow: 0 6px 0 #cc8800, 0 10px 20px rgba(0,0,0,0.3); text-align: center; transform: rotate(-2deg); flex-shrink: 0; }
        .score-item:last-child { transform: rotate(2deg); }
        .score-label { font-size: 0.9em; color: #664400; font-weight: 700; }
        .score-value { font-family: 'Fredoka One', cursive; font-size: 2em; color: #fff; text-shadow: 2px 2px 0 #cc8800; }
        .settings { background: rgba(255,255,255,0.95); padding: 20px; border-radius: 20px; margin-bottom: 20px; }
        .setting-row { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-bottom: 15px; }
        .setting-label { font-weight: 700; color: #333; display: flex; align-items: center; gap: 8px; width: 100%; justify-content: center; }
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .btn { padding: 12px 24px; border: none; border-radius: 15px; font-family: 'Fredoka One', cursive; font-size: 1em; cursor: pointer; transition: all 0.2s; box-shadow: 0 5px 0 rgba(0,0,0,0.2); }
        .btn:active { transform: translateY(3px); box-shadow: 0 2px 0 rgba(0,0,0,0.2); }
        .btn-primary { background: linear-gradient(180deg, #00d4ff, #0099cc); color: #fff; }
        .btn-success { background: linear-gradient(180deg, #00ff88, #00cc66); color: #fff; }
        .btn-random { background: linear-gradient(180deg, #ff69b4, #ff1493); color: #fff; }
        .btn-game { background: linear-gradient(180deg, #ff6b35, #dd5525); color: #fff; font-size: 1.3em; padding: 18px 40px; }
        .btn.active { box-shadow: 0 0 0 4px #fff, 0 5px 0 rgba(0,0,0,0.2); transform: scale(1.05); }
        .problem-area { background: linear-gradient(180deg, #f8f8f8, #e8e8e8); border-radius: 25px; padding: 30px; margin-bottom: 20px; box-shadow: inset 0 5px 15px rgba(0,0,0,0.1); }
        .problem-number { font-family: 'Fredoka One', cursive; font-size: 3em; color: #333; text-align: center; margin-bottom: 20px; }
        .input-area { display: flex; gap: 15px; justify-content: center; align-items: center; flex-wrap: wrap; }
        .input-box { width: 150px; height: 70px; font-family: 'Fredoka One', cursive; font-size: 2em; text-align: center; border: 4px solid #00d4ff; border-radius: 15px; background: #fff; color: #333; transition: border-color 0.2s ease, background-color 0.2s ease; flex-shrink: 0; }
        .input-box:focus { outline: none; border-color: #ff6b35; box-shadow: 0 0 20px rgba(255,107,53,0.3); }
        .input-box.correct { border-color: #00ff88; background: #e8fff5; }
        .input-box.wrong { border-color: #ff6b6b; background: #fff0f0; }
        .input-box.warning { border-color: #ffd700; background: #fffef0; animation: shake 0.5s ease; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
        .btn-hint { background: linear-gradient(180deg, #a855f7, #7c3aed); color: #fff; }
        .hint-area { background: linear-gradient(180deg, #a855f7, #7c3aed); border-radius: 20px; padding: 20px; margin-top: 20px; display: none; }
        .hint-title { font-family: 'Fredoka One', cursive; color: #fff; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .hint-content { background: rgba(255,255,255,0.95); padding: 15px; border-radius: 15px; color: #333; line-height: 1.8; }
        .history-section { background: rgba(255,255,255,0.95); border-radius: 20px; padding: 20px; margin-top: 20px; }
        .history-title { font-family: 'Fredoka One', cursive; color: #333; margin-bottom: 15px; text-align: center; }
        .history-list { max-height: 200px; overflow-y: auto; }
        .history-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; background: linear-gradient(180deg, #f8f8f8, #f0f0f0); border-radius: 12px; margin-bottom: 8px; font-family: 'Nunito', sans-serif; }
        .history-item:nth-child(odd) { background: linear-gradient(180deg, #f0f8ff, #e0f0ff); }
        .history-score { font-family: 'Fredoka One', cursive; color: #ff6b35; font-size: 1.1em; }
        .history-time { color: #666; font-size: 0.9em; }
        .no-history { text-align: center; color: #999; padding: 20px; }
        .particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; z-index: 1000; }
        .particle { position: absolute; font-size: 2em; animation: fall 3s linear forwards; opacity: 0; }
        @keyframes fall { 0% { opacity: 1; transform: translateY(-50px) rotate(0deg); } 100% { opacity: 0; transform: translateY(100vh) rotate(360deg); } }
        .confetti { width: 15px; height: 15px; background: #ffd700; animation: confettiFall 2s linear forwards; }
        @keyframes confettiFall { 0% { transform: translateY(-50px) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        .level-up { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Fredoka One', cursive; font-size: 4em; color: #ffd700; text-shadow: 4px 4px 0 #ff6b35, 8px 8px 0 #ff0000; animation: levelUp 2s ease forwards; z-index: 2000; pointer-events: none; }
        @keyframes levelUp { 0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); } 20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); } 80% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); } }
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1500; display: none; }
        .star { position: absolute; font-size: 3em; animation: starBurst 1s ease forwards; }
        @keyframes starBurst { 0% { transform: scale(0) rotate(0deg); opacity: 1; } 100% { transform: scale(1.5) rotate(180deg); opacity: 0; } }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    <div class="stars" id="stars"></div>
    <div class="game-container">
        <div class="header">
            <h1 class="title">ğŸ® æ•¸å­¸å¤§å†’éšª ğŸ®</h1>
            <div class="stats-row">
                <div class="streak-badge"><span>ğŸ”¥</span><span id="streak">0</span> é€£å‹</div>
                <div class="timer-display"><span>â±ï¸</span><span id="duration">00:00</span></div>
            </div>
        </div>
        <div class="level-info">ğŸ† ç­‰ç´š <span id="level">1</span> | ç¶“é©—å€¼ <span id="xp">0</span>/<span id="xpNeeded">100</span></div>
        <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
        <div class="score-board">
            <div class="score-item"><div class="score-label">â­ åˆ†æ•¸</div><div class="score-value" id="score">0</div></div>
            <div class="score-item"><div class="score-label">âœ… æ­£ç¢º</div><div class="score-value" id="correct">0</div></div>
            <div class="score-item"><div class="score-label">âŒ éŒ¯èª¤</div><div class="score-value" id="wrong">0</div></div>
        </div>
        <div class="settings">
            <div class="setting-row">
                <div class="setting-label">ğŸ”¢ æ•¸å­—ä½æ•¸ï¼š</div>
                <div class="btn-group" id="digitBtns">
                    <button class="btn btn-primary" data-digit="2">2ä½æ•¸</button>
                    <button class="btn btn-primary" data-digit="3">3ä½æ•¸</button>
                    <button class="btn btn-primary active" data-digit="4">4ä½æ•¸</button>
                </div>
            </div>
            <div class="setting-row">
                <div class="setting-label">ğŸ¯ é¡Œç›®é¡å‹ï¼š</div>
                <div class="btn-group" id="inputBtns">
                    <button class="btn btn-success" data-input="result">æ±‚çµæœ</button>
                    <button class="btn btn-success" data-input="a">æ±‚è¢«åŠ /æ¸›æ•¸</button>
                    <button class="btn btn-success" data-input="b">æ±‚åŠ /æ¸›æ•¸</button>
                    <button class="btn btn-random" data-input="random">ğŸ”€ éš¨æ©Ÿ</button>
                </div>
            </div>
            <div class="setting-row"><button class="btn btn-game" onclick="startGame()">ğŸš€ é–‹å§‹æŒ‘æˆ°ï¼</button></div>
        </div>
        <div class="problem-area" id="problemArea" style="display: none;">
            <div class="problem-number" id="problem"></div>
            <div class="input-area">
                <input type="number" class="input-box" id="answer" placeholder="?" onkeypress="handleKeyPress(event)">
                <button class="btn btn-success" onclick="checkAnswer()">âœ… ç¢ºå®š</button>
                <button class="btn btn-hint" onclick="showHint()">ğŸ’¡ æç¤º</button>
            </div>
            <div class="hint-area" id="hintArea">
                <div class="hint-title">ğŸ’¡ æç¤º</div>
                <div class="hint-content" id="hintContent"></div>
            </div>
        </div>
        <div class="history-section">
            <div class="history-title">ğŸ“‹ éå¾€5æ¬¡éŠæˆ²è¨˜éŒ„</div>
            <div class="history-list" id="historyList">
                <div class="no-history">æš«æ™‚æ²’æœ‰éŠæˆ²è¨˜éŒ„</div>
            </div>
        </div>
    </div>
    <div class="level-up" id="levelUp" style="display: none;">â¬†ï¸ å‡ç´šï¼</div>
    <script>
        let gameState = { digit: 4, inputType: 'result', score: 0, correct: 0, wrong: 0, streak: 0, xp: 0, level: 1, currentProblem: null, startTime: null, timerInterval: null, history: [] };
        
        const sounds = { correct: null, wrong: null, click: null, levelUp: null, streak: null, warning: null };
        
        function initAudio() {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            const ctx = new AudioContext();
            sounds.correct = () => {
                const osc = ctx.createOscillator(), gain = ctx.createGain();
                osc.connect(gain); gain.connect(ctx.destination);
                osc.frequency.setValueAtTime(523.25, ctx.currentTime);
                osc.frequency.setValueAtTime(659.25, ctx.currentTime + 0.1);
                osc.frequency.setValueAtTime(783.99, ctx.currentTime + 0.2);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.4);
                osc.start(ctx.currentTime); osc.stop(ctx.currentTime + 0.4);
            };
            sounds.wrong = () => {
                const osc = ctx.createOscillator(), gain = ctx.createGain();
                osc.connect(gain); gain.connect(ctx.destination);
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(200, ctx.currentTime);
                osc.frequency.setValueAtTime(150, ctx.currentTime + 0.2);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.4);
                osc.start(ctx.currentTime); osc.stop(ctx.currentTime + 0.4);
            };
            sounds.warning = () => {
                const osc = ctx.createOscillator(), gain = ctx.createGain();
                osc.connect(gain); gain.connect(ctx.destination);
                osc.frequency.setValueAtTime(440, ctx.currentTime);
                osc.frequency.setValueAtTime(440, ctx.currentTime + 0.15);
                osc.frequency.setValueAtTime(440, ctx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);
                osc.start(ctx.currentTime); osc.stop(ctx.currentTime + 0.5);
            };
            sounds.click = () => {
                const osc = ctx.createOscillator(), gain = ctx.createGain();
                osc.connect(gain); gain.connect(ctx.destination);
                osc.frequency.setValueAtTime(800, ctx.currentTime);
                gain.gain.setValueAtTime(0.1, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
                osc.start(ctx.currentTime); osc.stop(ctx.currentTime + 0.1);
            };
        }
        
        document.getElementById('digitBtns').addEventListener('click', e => {
            if (e.target.classList.contains('btn')) {
                document.querySelectorAll('#digitBtns .btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                gameState.digit = parseInt(e.target.dataset.digit);
                sounds.click && sounds.click();
            }
        });
        
        document.getElementById('inputBtns').addEventListener('click', e => {
            if (e.target.classList.contains('btn')) {
                document.querySelectorAll('#inputBtns .btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                gameState.inputType = e.target.dataset.input;
                sounds.click && sounds.click();
            }
        });
        
        function startGame() {
            if (gameState.correct > 0 || gameState.wrong > 0) {
                const dur = gameState.startTime ? Math.floor((Date.now() - gameState.startTime) / 1000) : 0;
                const m = Math.floor(dur / 60), s = dur % 60;
                const durStr = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
                gameState.history.unshift({ score: gameState.score, correct: gameState.correct, wrong: gameState.wrong, duration: durStr });
                if (gameState.history.length > 5) gameState.history.pop();
                updateHistoryDisplay();
            }
            gameState.score = 0; gameState.correct = 0; gameState.wrong = 0; gameState.streak = 0; gameState.xp = 0; gameState.level = 1; gameState.startTime = Date.now();
            updateDisplay();
            if (gameState.timerInterval) clearInterval(gameState.timerInterval);
            gameState.timerInterval = setInterval(updateTimer, 1000);
            document.getElementById('problemArea').style.display = 'block';
            sounds.click && sounds.click();
            generateProblem();
        }
        
        function updateTimer() {
            if (!gameState.startTime) return;
            const dur = Math.floor((Date.now() - gameState.startTime) / 1000);
            const m = Math.floor(dur / 60), s = dur % 60;
            document.getElementById('duration').textContent = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }
        
        function updateHistoryDisplay() {
            const h = document.getElementById('historyList');
            if (gameState.history.length === 0) {
                h.innerHTML = '<div class="no-history">æš«æ™‚æ²’æœ‰éŠæˆ²è¨˜éŒ„</div>';
                return;
            }
            h.innerHTML = gameState.history.map(s => `
                <div class="history-item">
                    <span class="history-score">â­ ${s.score} åˆ†</span>
                    <span>${s.correct}âœ… ${s.wrong}âŒ</span>
                    <span class="history-time">â±ï¸ ${s.duration}</span>
                </div>
            `).join('');
        }
        
        function generateProblem() {
            const d = gameState.digit, min = Math.pow(10, d - 1), max = Math.pow(10, d) - 1;
            const a = Math.floor(Math.random() * (max - min + 1)) + min;
            const b = Math.floor(Math.random() * (max - min + 1)) + min;
            const isAdd = Math.random() > 0.5;
            let it = gameState.inputType;
            if (it === 'random') {
                const ts = ['result', 'a', 'b'];
                it = ts[Math.floor(Math.random() * ts.length)];
            }
            if (isAdd) {
                gameState.currentProblem = { type: 'add', a, b, result: a + b, inputType: it };
            } else {
                if (a < b) {
                    gameState.currentProblem = { type: 'sub', a: b, b: a, result: b - a, inputType: it };
                } else {
                    gameState.currentProblem = { type: 'sub', a, b, result: a - b, inputType: it };
                }
            }
            displayProblem();
            document.getElementById('hintArea').style.display = 'none';
            document.getElementById('answer').value = '';
            document.getElementById('answer').focus();
        }
        
        function displayProblem() {
            const p = gameState.currentProblem;
            let disp = '';
            if (p.inputType === 'result') {
                disp = `${p.a} ${p.type === 'add' ? '+' : '-'} ${p.b} = ?`;
            } else if (p.inputType === 'a') {
                disp = `? ${p.type === 'add' ? '+' : '-'} ${p.b} = ${p.result}`;
            } else {
                disp = `${p.a} ${p.type === 'add' ? '+' : '-'} ? = ${p.result}`;
            }
            document.getElementById('problem').textContent = disp;
        }
        
        function handleKeyPress(e) { if (e.key === 'Enter') checkAnswer(); }
        
        function checkAnswer() {
            const val = document.getElementById('answer').value.trim();
            const box = document.getElementById('answer');
            if (!val) {
                box.classList.add('warning');
                sounds.warning && sounds.warning();
                document.getElementById('hintContent').textContent = 'è«‹è¼¸å…¥ç­”æ¡ˆï¼';
                document.getElementById('hintArea').style.display = 'block';
                setTimeout(() => { box.classList.remove('warning'); document.getElementById('hintArea').style.display = 'none'; }, 1000);
                return;
            }
            const num = parseInt(val);
            if (num === gameState.currentProblem.result) {
                box.classList.add('correct');
                sounds.correct && sounds.correct();
                createParticles('â­'); createConfetti();
                gameState.score += 10 + gameState.streak * 2;
                gameState.correct++; gameState.streak++;
                gameState.xp += 10 + Math.floor(gameState.streak / 3) * 5;
                const xpNeed = gameState.level * 100;
                if (gameState.xp >= xpNeed) {
                    gameState.level++; gameState.xp -= xpNeed;
                    showLevelUp(); sounds.levelUp && sounds.levelUp(); createStarBurst();
                }
                if (gameState.streak >= 3) sounds.streak && sounds.streak();
                setTimeout(() => { box.classList.remove('correct'); generateProblem(); }, 1000);
            } else {
                box.classList.add('wrong');
                sounds.wrong && sounds.wrong();
                gameState.wrong++; gameState.streak = 0;
                createParticles('âŒ');
                updateDisplay();
                setTimeout(() => {
                    box.classList.remove('wrong');
                    generateProblem();
                }, 800);
            }
            updateDisplay();
        }
        
        function showHint() {
            const p = gameState.currentProblem;
            let h = '';
            if (p.inputType === 'result') {
                h = p.type === 'add' 
                    ? `åŠ æ³•æç¤ºï¼š\n${p.a} + ${p.b}\nå¯ä»¥è©¦å“ç”± ${p.a} é–‹å§‹ï¼Œå‘ä¸Šæ•¸ ${p.b} æ­¥`
                    : `æ¸›æ³•æç¤ºï¼š\n${p.a} - ${p.b}\nå¯ä»¥è©¦å“ç”± ${p.a} é–‹å§‹ï¼Œå‘ä¸‹æ•¸ ${p.b} æ­¥`;
            } else if (p.inputType === 'a') {
                h = p.type === 'add'
                    ? `æ±‚è¢«åŠ æ•¸ï¼š\nçµæœ ${p.result} - åŠ æ•¸ ${p.b} = è¢«åŠ æ•¸\nå³ä¿‚ ${p.result} - ${p.b} = ${p.a}`
                    : `æ±‚è¢«æ¸›æ•¸ï¼š\nçµæœ ${p.result} + æ¸›æ•¸ ${p.b} = è¢«æ¸›æ•¸\nå³ä¿‚ ${p.result} + ${p.b} = ${p.a}`;
            } else {
                h = p.type === 'add'
                    ? `æ±‚åŠ æ•¸ï¼š\nçµæœ ${p.result} - è¢«åŠ æ•¸ ${p.a} = åŠ æ•¸\nå³ä¿‚ ${p.result} - ${p.a} = ${p.b}`
                    : `æ±‚æ¸›æ•¸ï¼š\nè¢«æ¸›æ•¸ ${p.a} - çµæœ ${p.result} = æ¸›æ•¸\nå³ä¿‚ ${p.a} - ${p.result} = ${p.b}`;
            }
            document.getElementById('hintContent').textContent = h;
            document.getElementById('hintArea').style.display = 'block';
            sounds.click && sounds.click();
        }
        
        function updateDisplay() {
            ['score', 'correct', 'wrong', 'streak', 'level', 'xp'].forEach(k => document.getElementById(k).textContent = gameState[k]);
            document.getElementById('xpNeeded').textContent = gameState.level * 100;
            document.getElementById('progressFill').style.width = `${(gameState.xp / (gameState.level * 100)) * 100}%`;
        }
        
        function createParticles(emoji) {
            for (let i = 0; i < 10; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.textContent = emoji;
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDelay = Math.random() * 0.5 + 's';
                document.getElementById('particles').appendChild(p);
                setTimeout(() => p.remove(), 3000);
            }
        }
        
        function createConfetti() {
            for (let i = 0; i < 30; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = Math.random() * 100 + '%';
                c.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                c.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 2000);
            }
        }
        
        function showLevelUp() {
            const lu = document.getElementById('levelUp');
            lu.style.display = 'block';
            setTimeout(() => lu.style.display = 'none', 2000);
        }
        
        function createStarBurst() {
            const s = document.getElementById('stars');
            s.style.display = 'block';
            ['â­', 'ğŸŒŸ', 'ğŸ’«', 'âœ¨'].forEach((e, i) => {
                const st = document.createElement('div');
                st.className = 'star';
                st.textContent = e;
                st.style.left = Math.random() * 100 + '%';
                st.style.top = Math.random() * 100 + '%';
                st.style.animationDelay = Math.random() * 0.5 + 's';
                s.appendChild(st);
                setTimeout(() => st.remove(), 1000);
            });
            setTimeout(() => s.style.display = 'none', 1500);
        }
        
        initAudio();
        updateDisplay();
    </script>
</body>
</html>
